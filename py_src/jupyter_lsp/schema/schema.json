{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "config-schema": {
      "description": "a JSON schema to configure the Language Server or extension behavior from the client",
      "title": "Client Configuration Schema",
      "type": "object"
    },
    "install-bundle": {
      "additionalProperties": {
        "$ref": "#/definitions/install-help"
      },
      "description": "a list of installation approaches keyed by package manager, e.g. pip, npm, yarn, apt",
      "patternProperties": {
        ".*": {
          "$ref": "#/definitions/install-help"
        }
      },
      "title": "Installation",
      "type": "object"
    },
    "install-help": {
      "description": "the install commands or description for installing the language server",
      "type": "string"
    },
    "language-list": {
      "description": "languages supported by this Language Server",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "type": "array",
      "uniqueItems": true
    },
    "language-server-extension": {
      "description": "an extension which can extend the functionality of the language server",
      "properties": {
        "config_schema": {
          "$ref": "#/definitions/config-schema"
        },
        "display_name": {
          "type": "string"
        },
        "install": {
          "$ref": "#/definitions/install-bundle"
        }
      },
      "title": "Language Server Extension",
      "type": "object"
    },
    "language-server-spec": {
      "allOf": [
        {
          "$ref": "#/definitions/partial-language-server-spec"
        },
        {
          "required": ["argv", "languages", "version"]
        }
      ],
      "description": "a description of a language server that could be started",
      "title": "Language Server Spec"
    },
    "nullable-date-time": {
      "description": "a date/time that might not have been recorded",
      "oneOf": [
        {
          "format": "date-time",
          "type": "string"
        },
        {
          "type": "null"
        }
      ]
    },
    "current-version": {
      "title": "Spec Schema Version",
      "description": "which version of the spec this implements",
      "type": "number",
      "enum": [1]
    },
    "partial-language-server-spec": {
      "description": "all properties that might be required to start and/or describe a Language Server",
      "properties": {
        "version": {
          "$ref": "#/definitions/current-version"
        },
        "argv": {
          "$ref": "#/definitions/shell-args",
          "description": "the arguments to start the language server normally",
          "title": "Launch Arguments"
        },
        "config_schema": {
          "$ref": "#/definitions/config-schema",
          "description": "a JSON schema to configure the Language Server behavior from the client",
          "title": "Client Configuration Schema"
        },
        "debug_argv": {
          "$ref": "#/definitions/shell-args",
          "description": "the arguments to start the language server with more verbose output",
          "title": "Debug Arguments"
        },
        "display_name": {
          "description": "name shown in the UI",
          "title": "Display Name",
          "type": "string"
        },
        "extend": {
          "additionalProperties": {
            "$ref": "#/definitions/language-server-extension"
          },
          "description": "known extensions that can contribute to the Language Server's features",
          "patternProperties": {
            ".*": {
              "$ref": "#/definitions/language-server-extension"
            }
          },
          "title": "Extensions"
        },
        "install": {
          "$ref": "#/definitions/install-bundle",
          "description": "a list of installation approaches keyed by package manager, e.g. pip, npm, yarn, apt",
          "title": "Installation"
        },
        "languages": {
          "$ref": "#/definitions/language-list"
        },
        "mime_types": {
          "$ref": "#/definitions/language-list",
          "description": "list of MIME types supported by the language server",
          "title": "MIME Types"
        },
        "urls": {
          "patternProperties": {
            ".*": {
              "format": "uri",
              "type": "string"
            }
          },
          "type": "object"
        }
      },
      "title": "Server Spec Properties"
    },
    "servers-response": {
      "properties": {
        "sessions": {
          "description": "a list of servers that are, could be, or were running",
          "items": {
            "$ref": "#/definitions/session"
          },
          "type": "array"
        },
        "version": {
          "$ref": "#/definitions/current-version"
        }
      },
      "required": ["sessions", "version"],
      "type": "object"
    },
    "session": {
      "additionalProperties": false,
      "description": "a language server session",
      "properties": {
        "handler_count": {
          "description": "the count of currently-connected WebSocket handlers",
          "minValue": 0,
          "title": "handler count",
          "type": "integer"
        },
        "last_handler_message_at": {
          "$ref": "#/definitions/nullable-date-time",
          "description": "date-time of last seen message from a WebSocket handler"
        },
        "last_server_message_at": {
          "$ref": "#/definitions/nullable-date-time",
          "description": "date-time of last seen message from the language server"
        },
        "spec": {
          "$ref": "#/definitions/partial-language-server-spec"
        },
        "status": {
          "description": "a string describing the current state of the server",
          "enum": ["not_started", "starting", "started", "stopping", "stopped"],
          "type": "string"
        }
      },
      "required": [
        "handler_count",
        "status",
        "last_server_message_at",
        "last_handler_message_at",
        "spec"
      ],
      "title": "Language Server Session"
    },
    "shell-args": {
      "description": "a list of tokens for running a command",
      "items": {
        "type": "string"
      },
      "type": "array"
    }
  },
  "description": "describes the current state of (potentially) running language servers",
  "title": "jupyter_lsp server status response"
}
